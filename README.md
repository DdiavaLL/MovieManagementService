# MovieManagementService
RESTful API сервис, позволяющий управлять списком кинофильмов.

Java приложение разработано с использованием Spring Boot.
## Хранение данных
Данные в сервисе размещаются и хранятся в базе данных PostgreSQL в двух таблицах: movies и directors. Таблица directors связана с таблицей movies через foreign key: Directors_fkey. 

Таблица movies содержит поля:
1.	id - целочисленный уникальный идентификатор записи;
2.	title - название кинофильма, строка до 100 символов;
3.	year - год выпуска, целое число от 1900 до 2100;
4.	director - целочисленный уникальный идентификатор режиссера;
5.	length - продолжительность фильма, тип - время;
6.	rating - рейтинг фильма (целое число от 0 до 10).

Таблица directors содержит поля:
1.  id - целочисленный уникальный идентификатор режиссера;
2.	director - ФИО режиссера, строка до 100 символов;

Для получения последовательных уникальных значений id для таблиц movies и directors созданы последовательности(sequence) movies_sequence и directors_sequence.

## Структура приложения
В приложении таблицы мапятся в классы Movie и Director. Для взаимодействия с БД реализованы JPA-репозитории: MovieRepository, DirectorRepository. 

Для обработки веб-запросов создан контроллер MovieController, реализующий обработку следующих HTTP-запросов:
1.  GET /api/movies - список всех кинофильмов;
2.  GET /api/movies/:id - информация о кинофильме с указанным id;
3.  POST /api/movies - добавление новой записи о кинофильме;
4.  PATCH /api/movies/:id - изменение информации о кинофильме с указанным id;
5.  DELETE /api/movies/:id - удаление записи с указанным id;

Классы ListMovieResponse и MovieRepsponce используются для передачи ответов на HTTP-запросы. Класс StatusMessage формирует сообщение с кодом ошибки и причиной ее возникновения.

## Запуск приложения
Для запуска из IntelliJ IDEA необходимо создать конфигурацию для запуска типа Spring Boot, в поле Main class указать: com.vlter.mmservice.MmserviceApplication.

## Тестирование
Для тестирования в качестве HTTP-клиента использовал Postman.
